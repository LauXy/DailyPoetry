<Page
    x:Class="DailyPoetry.SearchResultPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:DailyPoetry"
    xmlns:model="using:DailyPoetry.Models"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.Resources>
        <DataTemplate x:Name="PoetryItemViewTemplate" 
                      x:DataType="model:PoetryItem">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="3*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Grid.Row="0"
                           Grid.ColumnSpan="2"
                           Text="{x:Bind Data.Name}" 
                           Margin="0,0,0,0"/>
                <TextBlock  Grid.Column="0" Grid.Row="1"
                            Text="{x:Bind Data.Dynasty}" 
                            Margin="0,0,0,0"/>
                <TextBlock  Grid.Column="1" Grid.Row="1"
                            Text="{x:Bind Data.AuthorName}" 
                            Margin="0,0,0,0"/>
                <TextBlock  Grid.Column="0" Grid.Row="2"
                            Grid.ColumnSpan="2"
                            Text="{x:Bind Summary}" 
                            Margin="0,0,0,0"/>
            </Grid>
        </DataTemplate>
    </Page.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="MasterColumn" Width="320"  />
            <ColumnDefinition x:Name="DetailColumn" Width="*" />
        </Grid.ColumnDefinitions>
         
        <Border Background="{ThemeResource SystemControlBackgroundChromeMediumBrush}">
            <TextBlock Text="诗词列表" Margin="24,8,8,8"
                       Style="{ThemeResource TitleTextBlockStyle}" />
        </Border>

        <ListView x:Name="MasterListView" 
                  SelectionMode="Extended"
                  SelectionChanged="MasterListView_OnSelectionChanged"
                  IsItemClickEnabled="True"
                  ShowsScrollingPlaceholders="False"
                  ItemTemplate="{StaticResource PoetryItemViewTemplate }"
                  ItemsSource="{Binding }"
                  ItemClick="MasterListView_OnItemClick"
                  Grid.Row="1" Grid.Column="0">
            <ListView.ItemContainerStyle>
                <Style TargetType="ListViewItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                </Style>
            </ListView.ItemContainerStyle>
        </ListView>

    </Grid>
</Page>
